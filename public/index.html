<html>
    <head>
        <title>DS3 Assignment 3</title>
        <script src="js/aframe-v0.8.2.min.js"></script>
        <script src="js/master.js"></script>
        <script src="js/socket.io.min.js"></script>
        <script src="js/event-generator.js"></script>

    </head>
              
    <body>
        <a-scene>
            <!-------------- TEXTURES ---------------->
            <a-assets>
                <img id="skymap" src="assets/textures/skybox.jpg" />
            </a-assets>


            <!-------------- SOUNDS ---------------->
            <a-assets>

            </a-assets>
            

            <!---------------- MODELS ---------------->
            <a-assets>
                <a-asset-item id="maze_model" src="assets/models/maze.obj"></a-asset-item>
                <a-asset-item id="button_model" src="assets/models/button.obj"></a-asset-item>
                <a-asset-item id="door_model" src="assets/models/door1_1.obj"></a-asset-item>
            </a-assets>


            <!---------------- CAMERA ---------------->
            <a-entity id="cameraRig" position="0 1.9 0" rotation="0 0 0">
                <a-entity id="cursor" cursor="rayOrigin: mouse" position="0 0 -1"></a-entity>
            </a-entity>


            <!---------------- LIGHTING ---------------->
            <a-light type="point" color="lightblue" position="0 60 -60" intensity="0.2"></a-light>


            <!---------------- A-FRAME ENTITIES ---------------->
            
            <a-entity 
                id="area" 
                obj-model="obj:#maze_model" 
                position="" 
                rotation="" 
                scale="" 
                shadow=""
            >
            </a-entity>

            <!-- STARTING AREA -->

            <a-entity 
                id="startButton" 
                obj-model="obj:#button_model" 
                position="3 1.5 -5.258" 
                rotation="" 
                scale="0.75 0.75 0.75" 
                shadow=""
                material="color: #ffffff; emissive: #ffffff; emissiveIntensity: 0.3;" 
                
                event-generator
            >
            </a-entity>

            <a-entity 
                id="door1_1" 
                obj-model="obj:#door_model" 
                position="" 
                rotation="" 
                scale="" 
                shadow=""
                material="" 
            >
            </a-entity>

            <!-- INTERSECTION 1 -->

            <a-entity 
                id="area1StartButton" 
                obj-model="obj:#button_model" 
                position="2.263 1.500 -25" 
                rotation="0 90 0" 
                scale="0.75 0.75 0.75" 
                shadow=""
                material="color: #ffffff; emissive: #ffffff; emissiveIntensity: 0.3;" 
                
                event-generator
            >
            </a-entity>

            <a-entity 
                id="door2_start" 
                obj-model="obj:#door_model" 
                position="0 0 -22.781" 
                rotation="" 
                scale="" 
                shadow=""
                material="" 
            >
            </a-entity>

            <a-entity 
            id="area_1_left" 
            obj-model="obj:#door_model" 
            position="0 0 -30.970" 
            rotation="0 90 0" 
            scale="" 
            shadow=""
            material="" 
            >
            </a-entity>

            <a-entity 
            id="area_1_center" 
            obj-model="obj:#door_model" 
            position="0 0 -31" 
            rotation="" 
            scale="" 
            shadow=""
            material="" 
            >
            </a-entity>

            <a-entity 
            id="area_1_right" 
            obj-model="obj:#door_model" 
            position="11.564 0 -30.83" 
            rotation="0 90 0" 
            scale="" 
            shadow=""
            material="" 
            >
            </a-entity>

            <!-- SKYBOX -->
            
            <a-sky color="#ECECEC" ></a-sky>

            <a-entity   
                id="sky"
                rotation="0 90 90"
                geometry="primitive: sphere; radius: 4000"
                material="shader: flat; src: #skymap; side: back"
                loadscripts>
            </a-entity>

        </a-scene>
        
        <script>
            userID = 'player1';            
        </script>

        <script src="js/eventSender.js"></script>
        <script src="js/eventReceiver.js"></script>

    </body>
</html>
